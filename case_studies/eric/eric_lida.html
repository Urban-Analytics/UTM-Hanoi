
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Possible Impacts of a Motorbike Ban on Transport in Hanoi &#8212; UTM-Hanoi</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="canonical" href="https://github.com/Urban-Analytics/UTM-Hanoi/case_studies/eric/eric_lida.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Let the Data Speak for Itself: Developing a New Data Dashboard for a Hanoi Transport Survey" href="../kristina/kristina_lida.html" />
    <link rel="prev" title="Case studies" href="../overview.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logo.jpeg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">UTM-Hanoi</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../presentations/overview.html">
   Conference contributions
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../presentations/giscience-2021/giscience-2021.html">
     Presentations to GIScience 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../presentations/gisruk-2022/gisruk-2022.html">
     Presentation and posters for GISRUK 2022
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../presentations/agile-2022/agile-2022.html">
     Paper presentation at AGILE 2022
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../presentations/rss-2022/rss-2022.html">
     Poster for RSS 2022
    </a>
   </li>
  </ul>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../papers/overview.html">
   Papers
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../overview.html">
   Case studies
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Possible Impacts of a Motorbike Ban on Transport in Hanoi
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../kristina/kristina_lida.html">
     Let the Data Speak for Itself: Developing a New Data Dashboard for a Hanoi Transport Survey
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            <div> This book is powered by <a href="https://jupyterbook.org">Jupyter Book</a> </div>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/Urban-Analytics/UTM-Hanoi"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/Urban-Analytics/UTM-Hanoi/issues/new?title=Issue%20on%20page%20%2Fcase_studies/eric/eric_lida.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/Urban-Analytics/UTM-Hanoi/edit/gh-pages/case_studies/eric/eric_lida.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/case_studies/eric/eric_lida.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-overview">
   Project overview
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-and-methods">
   Data and methods
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#key-findings">
   Key findings
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#classification-model-results">
     Classification Model Results
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spatial-interaction-model-results">
     Spatial Interaction Model Results
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#value-of-the-research">
   Value of the research
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#people-and-partners">
   People and Partners
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#funders">
   Funders
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#references">
   References
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Possible Impacts of a Motorbike Ban on Transport in Hanoi</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-overview">
   Project overview
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-and-methods">
   Data and methods
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#key-findings">
   Key findings
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#classification-model-results">
     Classification Model Results
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spatial-interaction-model-results">
     Spatial Interaction Model Results
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#value-of-the-research">
   Value of the research
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#people-and-partners">
   People and Partners
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#funders">
   Funders
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#references">
   References
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="possible-impacts-of-a-motorbike-ban-on-transport-in-hanoi">
<h1>Possible Impacts of a Motorbike Ban on Transport in Hanoi<a class="headerlink" href="#possible-impacts-of-a-motorbike-ban-on-transport-in-hanoi" title="Permalink to this headline">#</a></h1>
<p>Author: <em>Eric Wanjau</em></p>
<hr class="docutils" />
<p>Why is it that in a Megacity with 8 million people, 90% of the vehicles
driven are motorbikes? What are the underlying factors influencing
individuals’ travel behaviors and attitudes towards a proposed motorbike
ban? What would be the impact of such a ban on the flows associated with
other transport modes? This research addresses the aforementioned
questions.</p>
<hr class="docutils" />
<section id="project-overview">
<h2>Project overview<a class="headerlink" href="#project-overview" title="Permalink to this headline">#</a></h2>
<p>An overwhelming majority of inhabitants in Hanoi city use motorbikes as
their primary means of transport. To put this into context, as of 2015
Hanoi had 4.9 million motorbikes and there are two and a half motorbikes
per person (Van, 2009). One potential solution that has been suggested
is to ban motorbikes in some areas of the city. However, with the
current overwhelming use of motorbikes, any future ban will need support
from the public to be successful. This 6-month project aimed at creating
statistical and spatial models of transport behaviors and attitudes in
relation to a potential motorbike ban. The aim of the modeling was to
help policymakers predict the impact of different transport policy
changes and to understand the process driving different travel
behaviors. The models implemented were:</p>
<ul class="simple">
<li><p>A Modal Spatial Interaction Model to investigate the modal shift of
flows if a ban were implemented.</p></li>
<li><p>A boosted trees Classification Model aimed at predicting
individuals’ attitudes towards the proposed ban and investigating
the underlying factors/reasons.</p></li>
</ul>
<p>The models along with other exploratory analyses were presented to
policymakers using an interactive R shiny dashboard developed by LIDA
data scientist Kristina Bratkova.</p>
</section>
<section id="data-and-methods">
<h2>Data and methods<a class="headerlink" href="#data-and-methods" title="Permalink to this headline">#</a></h2>
<p>The main data set used in this study is a bespoke transport survey of
30, 000 residents that was undertaken to capture the dynamics and trends
of people’s regular travel in and around the city, including the
attitudes towards different transport modes and a proposed motorbike
ban. The travel survey collected data such as general information (e.g.
age, location), travel behaviour (e.g. origin-destination trips, means
of transport) and attitudes towards the ban (e.g. opinion on the ban,
alternative vehicle if ban is implemented).</p>
<p>The classification model development workflow involved some Exploratory
Data Analysis (such as Fig1), feature engineering (reformatting
predictor values to make them easier for a model to use effectively),
model training, tuning and evaluation, and finally probing the model to
investigate variable importance and why the model makes the predictions
it does. An Extreme Boosted Trees (XGBoost) model was used to classify
individual respondents into two groups: those who agree and those who
disagree with the potential motorbike ban. The model achieved the
evaluation metrics shown in Fig2 and Table1.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><img alt="Map of spatial distribution of respondents" src="../../_images/fig1.jpg" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Figure 1: How opinions varied based on home location with larger blobs representing more respondents</p></td>
</tr>
</tbody>
</table>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><img alt="Confusion matrix" src="../../_images/fig2.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Figure 2: Confusion matrix.</p></td>
</tr>
</tbody>
</table>
<p>Table 1: Evaluation metrics:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Metric</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Accuracy</p></td>
<td><p>0.878</p></td>
</tr>
<tr class="row-odd"><td><p>Recall</p></td>
<td><p>0.853</p></td>
</tr>
<tr class="row-even"><td><p>Specificity</p></td>
<td><p>0.919</p></td>
</tr>
<tr class="row-odd"><td><p>PPV</p></td>
<td><p>0.945</p></td>
</tr>
<tr class="row-even"><td><p>F-measure</p></td>
<td><p>0.897</p></td>
</tr>
<tr class="row-odd"><td><p>ROC_AUC</p></td>
<td><p>0.953</p></td>
</tr>
</tbody>
</table>
<p>The model’s performance was quite impressive: the accuracy shows that
the model predicts accurately 87.8% of the test data, has an 85.3%
probability of detecting a person would agree with the ban (recall) and
91.9% probability of detecting a person would disagree with the ban
(specificity). Some of the techniques used to achieve the metrics above
include:</p>
<ul class="simple">
<li><p>Feature engineering techniques such as creating dummy variables,
dealing with zero and near zero variance predictors, dealing with
infrequently occurring observations etc.</p></li>
<li><p>Up sampling the training set since the data was imbalanced (having
less number of respondents who disagreed with the ban)</p></li>
<li><p>Spatial cross-validation resampling to account for the presence of
spatial autocorrelation in geospatial data.</p></li>
<li><p>Tuning XGBoost hyperparameters to obtain the combinations that lead
to the best metrics and avoid over-fitting.</p></li>
<li><p>Using an ANOVA-based racing method for efficient tuning of model
hyperparameters</p></li>
</ul>
<p>In-depth explanations and accompanying code of the above are discussed
in an upcoming paper (<em>Factors affecting perceptions in transport - A
deep dive into the motorbike ban in Hanoi, Vietnam</em>) that will be
submitted to an academic journal and shared in the project’s repository:
<a class="reference external" href="https://urban-analytics.github.io/UTM-Hanoi/intro.html">https://urban-analytics.github.io/UTM-Hanoi/intro.html</a></p>
<p>This study also implemented a modal spatial interaction model that
unlike previous studies, combines trip distribution characteristics and
modal choice, allowing one to simulate the number of journeys made from
origin zones to the destination zones by a particular transport mode.
The model is presented below:</p>
<div class="math notranslate nohighlight">
\[T_{\text{ij}}^{m} = \ A_{i}^{m}O_{i}^{m}B_{j}D_{j}d_{\text{ij}}^{m^{{- \beta}_{m}}}
\]</div>
<p><span class="math notranslate nohighlight">\(T_{\text{ij}}^{m}\)</span> is the number of trips from origin <em>i</em> to
destination <em>j</em> using mode <em>m</em></p>
<p><strong>​</strong><span class="math notranslate nohighlight">\(A_{i}^{m}\)</span> is the total number of trips generated at origin
zone <em>i</em> by mode <em>m</em></p>
<p><strong>​</strong><span class="math notranslate nohighlight">\(B_{j}\)</span> is <em>the total number of trips attracted at destination j</em></p>
<p><span class="math notranslate nohighlight">\(d_{\text{ij}}^{m^{{- \beta}_{m}}}\)</span> is the cost (distance) of making a
trip from origin <em>i</em> to destination <em>j</em> using mode <em>m</em></p>
<p><span class="math notranslate nohighlight">\(A_{i}^{m}\)</span> and <span class="math notranslate nohighlight">\(B_{j}\)</span> are known as balancing factors where <span class="math notranslate nohighlight">\(A_{i}^{m}\)</span>
ensures that the predicted modal interaction flows leaving each origin
equal the known value <span class="math notranslate nohighlight">\(O_{i}^{m}\)</span> and <span class="math notranslate nohighlight">\(B_{j}\)</span> ensures that the total
predicted interaction flows arriving at each destination equal the known
value <span class="math notranslate nohighlight">\(D_{j}\)</span></p>
<p>Detailed theoretical and mathematical underpinnings of spatial
interaction models are discussed in an upcoming paper (<em>Spatial
Interaction Modelling for Modal Shift: Application in an Emerging
Mega-City</em>) that will be submitted to an academic journal and shared in
the project’s repository:
<a class="reference external" href="https://urban-analytics.github.io/UTM-Hanoi/intro.html">https://urban-analytics.github.io/UTM-Hanoi/intro.html</a></p>
<p>Once the model parameters were calibrated and fit to the data, the
following performance metrics were obtained:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>metric</p></th>
<th class="head"><p>estimate</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>rmse</p></td>
<td><p>10.2</p></td>
</tr>
<tr class="row-odd"><td><p>rsq</p></td>
<td><p>0.589</p></td>
</tr>
</tbody>
</table>
<p>This indicates that on average, incorrect predictions are wrong by
around 10 flows and the model can explain about 59% of the variability
in the data, which was considered close enough to reproducing the
original flow matrix.</p>
</section>
<section id="key-findings">
<h2>Key findings<a class="headerlink" href="#key-findings" title="Permalink to this headline">#</a></h2>
<section id="classification-model-results">
<h3>Classification Model Results<a class="headerlink" href="#classification-model-results" title="Permalink to this headline">#</a></h3>
<p>After obtaining satisfactory performance from the XGBoost model, this
research then sought to explore the underlying factors driving the
model’s predictions. One of the model interpretation techniques
implemented was SHAP (SHapley Additive exPlanations). SHAP shows the
importance of variables by comparing the model’s prediction with and
without the variable in every possible order. The SHAP summary plot
combines feature importance and feature effects with features being
ordered according to their importance and colored according to the value
of the feature from low to high as shown in Fig3:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><img alt="SHAP summary plot" src="../../_images/fig3.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Figure 3: SHAP summary plot. Shapley values &gt; 0 push the model towards ‘agree’ outcome.</p></td>
</tr>
</tbody>
</table>
<p>Some inferences we can derive from the Shapley plot are:</p>
<ul class="simple">
<li><p><em>Freq_car_X0</em> (a dummy variable with a value of 1 if the
respondent uses a car 0 times a week and 0 otherwise) has the
largest effect on the model’s prediction. If a respondent does not
use a car (<em>Freq_car_X0</em> equals 1 and purple color) then they are
less likely to agree with the ban as indicated by the low (negative)
SHAP values.</p></li>
<li><p>The second most important variable is the distance to public
transport <em>(dist_to_pub)</em> which is a numeric variable. It appears
that larger distances to public transport are associated with the
disapproval of the motorbike ban.</p></li>
<li><p>Respondents who considered cars as an alternative vehicle in case of
a motorbike ban (<em>tf_alt_veh_car</em>) are more likely to approve the
motorbike ban and hints at the growing popularity of cars in Hanoi.</p></li>
<li><p>Socio-demographic attributes such as age, gender, and occupation do
not have a significant effect on the model outcomes.</p></li>
</ul>
<p>SHAP summary plot give us first indications of the relationship between
a feature and the impact on predictions. We can take a closer look at
the exact form of the relationship by making SHAP dependence plot as
shown in Fig4:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><img alt="SHAP dependence plots" src="../../_images/fig4.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Figure 4: SHAP dependence plots of the first 20 important variables</p></td>
</tr>
</tbody>
</table>
</section>
<section id="spatial-interaction-model-results">
<h3>Spatial Interaction Model Results<a class="headerlink" href="#spatial-interaction-model-results" title="Permalink to this headline">#</a></h3>
<p>One of the survey questions was: <em>What would be your alternative vehicle
for this trip if a motorbike ban was enacted?</em> To estimate the change in
modal flows in the case of a ban, the Spatial Interaction Model was
altered in the following way:</p>
<ol class="simple">
<li><p>An alternative vehicle for each motorbike user was randomly selected
from their responses</p></li>
<li><p>The new alternative vehicles were plugged back into the flow matrix
to estimate new values of <span class="math notranslate nohighlight">\(O_{i}^{m}\)</span> (the total number of trips
generated at origin zone <em>i</em> by mode <em>m</em>)</p></li>
<li><p>The modal SIM was recalibrated to obtain new values for the
balancing factors <span class="math notranslate nohighlight">\(A_{i}^{m}B_{j}\)</span></p></li>
<li><p>The multiplicative formula
<span class="math notranslate nohighlight">\(T_{\text{ij}}^{m} = \ A_{i}^{m}O_{i}^{m}B_{j}D_{j}d_{\text{ij}}^{m^{{- \beta}_{m}}}\)</span>
was used to obtain new scenario modal flows.</p></li>
</ol>
<p>The table below shows an example of a motorbike ban scenario:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>vehicle</p></th>
<th class="head"><p>Flows before ban</p></th>
<th class="head"><p>Flows after ban</p></th>
<th class="head"><p>Change in flows</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>taxi</p></td>
<td><p>99</p></td>
<td><p>2652</p></td>
<td><p>2553</p></td>
</tr>
<tr class="row-odd"><td><p>car</p></td>
<td><p>5060</p></td>
<td><p>7294</p></td>
<td><p>2234</p></td>
</tr>
<tr class="row-even"><td><p>bus</p></td>
<td><p>110</p></td>
<td><p>1887</p></td>
<td><p>1777</p></td>
</tr>
<tr class="row-odd"><td><p>ebike</p></td>
<td><p>876</p></td>
<td><p>2132</p></td>
<td><p>1256</p></td>
</tr>
<tr class="row-even"><td><p>bike</p></td>
<td><p>870</p></td>
<td><p>2080</p></td>
<td><p>1210</p></td>
</tr>
<tr class="row-odd"><td><p>walk</p></td>
<td><p>287</p></td>
<td><p>1131</p></td>
<td><p>844</p></td>
</tr>
<tr class="row-even"><td><p>moto</p></td>
<td><p>9868</p></td>
<td><p>0</p></td>
<td><p>-9868</p></td>
</tr>
</tbody>
</table>
<p>In this scenario, majority of the flows previously associated with
motorbikes would result to taxis, cars and buses and only a small number
to walking. With this information, more downstream analyses can be
performed for each particular mode. For instance, the map below in Fig5
shows the change in flows at destinations associated with ebikes in the
event of a motorbike ban.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><img alt="Map of change in ebike destinations" src="../../_images/fig5.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Figure 5: Change in flows at ebike destinations as a result of motorbike ban</p></td>
</tr>
</tbody>
</table>
<p>More importantly, the changes in routes taken by various vehicles from
origin zones to destination zones can be observed. The maps below in
Fig6 show the routes taken by ebike users weighted by the number of
flows before and after the ban.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><img alt="Map of routes weighted by flows" src="../../_images/fig6.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Figure 6: Map of routes weighted by flows. Left: before motorbike ban. Right: After motorbike ban</p></td>
</tr>
</tbody>
</table>
<p>Using the analyses above, policymakers are able to estimate the impact
of a motorbike ban on the existing modes of transport used in the city,
origin and destination zones, and corresponding routes/infrastructure.</p>
</section>
</section>
<section id="value-of-the-research">
<h2>Value of the research<a class="headerlink" href="#value-of-the-research" title="Permalink to this headline">#</a></h2>
<p>As outlined earlier, an overwhelming majority of Hanoi residents use
motorbikes as their primary means of transport. The effects of such a
large number and high density of motorbikes has led to severe problems
such as traffic congestion, and noise and air pollution. To this effect,
a motorbike ban has been proposed in some areas of the city. This
research could support policymakers in the following ways:</p>
<p>a.  The classification model developed (with an 89% accuracy on an
unbalanced test set) could help policymakers predict individuals’
perceptions to the ban.</p>
<p>b.  Leveraging on the various model explainability techniques used in
this research, policymakers can identify the most and least
important factors driving perceptions towards the ban and develop
appropriate policies.</p>
<p>c.  Using the spatial interaction model, policymakers can simulate modal
flows in the case of a ban, the resulting modal changes of flows at
various communes, and the impacts on the existing infrastructure.</p>
<p>d.  Using the models and exploratory data analysis implemented in this
research, policymakers can make more informed decisions with regards
to the motorbike ban, identify policies that could lead to adoption
of more environmental friendly modes of transport, and a glimpse of
how flows within the city would shift.</p>
<p>e.  Code notebooks, data and methodologies implemented in this research
will be released to the wider research community.</p>
<p><strong>Insights</strong></p>
<p>a.  Current usage and future consideration of cars as a means of
transport is an important factor driving individuals’ perception of
the motorbike ban. However, this is undesirable since it could
potentially worsen the traffic congestion and pollution in the city.</p>
<p>b.  Respondents who considered using the newly established tram lines
are also more likely to agree with the ban of motorbikes.</p>
<p>c.  Spatial variables such as home location (<em>home_lon, home_lat</em>)
play important roles in individuals’ perception of the motorbike
ban, with respondents of certain areas agreeing to the ban more than
others and vice versa.</p>
<p>d.  Survey respondents who are aware of the ban are more likely to agree
to it and vice versa. This shows the need for public sensitization
and involvement in the formulation of such policies if they are to
be widely accepted and adopted.</p>
<p>e.  From the Spatial Interaction Model: the usage of cars increases with
increase in the trip distance while that of buses decreases with
increase in trip distance. Improving public transport within the
city could potentially result in a decrease in the use of private
vehicles.</p>
<p>f.  The modal Spatial Interaction Model gives a glimpse of the impact of
the motorbike ban on existing modes of transport but also raises an
important question: would the existing road infrastructure keep up?</p>
</section>
<section id="people-and-partners">
<h2>People and Partners<a class="headerlink" href="#people-and-partners" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Eric Wanjau, Data Scientist, Leeds Institute for Data Analytics,
University of Leeds, UK</p></li>
<li><p>Kristina Bratkova, Data Scientist, Leeds Institute for Data Analytics,
University of Leeds, UK</p></li>
<li><p>Prof Nick Malleson, Professor of Spatial Science, Leeds Institute for
Data Analytics, University of Leeds, UK (Lead Supervisor)</p></li>
<li><p>Prof Alexis Comber, Professor of Spatial Data Analytics, Leeds Institute
for Data Analytics, University of Leeds, UK (Co-Supervisor)</p></li>
<li><p>Dr Minh Le Kieu, Lecturer in Transport Analytics, University of
Auckland, New Zealand (Co-Supervisor)</p></li>
<li><p>Phe Hoang Huu, R&amp;D Consultants, Hanoi City, Vietnam</p></li>
<li><p>Thanh Bui Quang, Faculty of Geography, VNU University of Science, Hanoi,
Vietnam</p></li>
<li><p>Hang Nguyen Thi Thuy, VNU Vietnam Japan University, Vietnam National
University, Hanoi, Vietnam</p></li>
</ul>
</section>
<section id="funders">
<h2>Funders<a class="headerlink" href="#funders" title="Permalink to this headline">#</a></h2>
<p>This work has received funding from the British Academy under the Urban
Infrastructures of Well-Being programme [grant number UWB190190].</p>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">#</a></h2>
<p>Van, H. T. (2009) Upgrading from motorbikes to cars : Simulation of
current and future traffic conditions in Ho Chi Minh City, Journal of
the Eastern Asia Society for Transportation Studies. Wilson, A. G.
(1971) ‘A Family of Spatial Interaction Models, and Associated
Developments’, Environment and Planning A: Economy and Space. doi:
10.1068/a030001.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./case_studies/eric"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../overview.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Case studies</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../kristina/kristina_lida.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Let the Data Speak for Itself: Developing a New Data Dashboard for a Hanoi Transport Survey</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Nick Malleson, Kristina Bratkova, Alexis Comber, Phe Hoang Huu, Minh Kieu, Thanh Bui Quang, Hang Nguyen Thi Thuy, Eric Wanjau<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>